<%= javascript_include_tag "articles", "data-turbolinks-track" => true %>
<%= form_for(@article, html: { method: :put, class: 'uk-form .uk-container-center' }) do |f| %>
  <fieldset>
    <div class='uk-width-medium-1-2 uk-push-1-4'>
      <legend>Create a New Article</legend>

      <%= render 'layouts/error_messages', object: f.object %>

      <div class="uk-form-row uk-width-medium-2-3 uk-push-1-6">
        <%= f.label :title %><br />
        <%= f.text_field :title, autofocus: true, class: 'text_input uk-width-1-1' %>
      </div>

      <div class="uk-form-row uk-width-medium-2-3 uk-push-1-6">
        <%= f.label :author %><br />
        <%= f.text_field :author, class: 'text_input uk-width-1-1' %>
      </div>
    </div>

    <%= f.text_area :markup, id: 'editor', 'data-uk-htmleditor'=>'{markdown:true}' %>

    <%= f.hidden_field :html %>

    <div class='uk-width-medium-1-2 uk-push-1-4'>
      <div class="uk-form-row uk-width-medium-2-3 uk-push-1-6">
        <%= f.label :heading %> <br />
        <%= f.select :header_id, @headers.collect {|a| [a.title, a.id]} %>
      </div>
      <div class="uk-form-row uk-width-medium-2-3 uk-push-1-6">
        <%= f.check_box :published, {checked: @article.published} %>
        <%= f.label :published, "Publish" %>
        <%= f.check_box :featured, {checked: @article.featured} %>
        <%= f.label :featured, "Featured Article" %>
        <%= f.check_box :public_access, {checked: @article.public_access} %>
        <%= f.label :public_access, "Publicly Available" %><br />
      </div>
      <div class="uk-form-row uk-width-medium-2-3 uk-push-1-6">
        <%= f.submit "Update Article", class: 'uk-button uk-button-primary uk-width-2-5 uk-push-2-3' %>
      </div>
    </div>
  </fieldset>
<% end %>